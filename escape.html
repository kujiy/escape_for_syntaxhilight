<!DOCTYPE html>
<html lang="ja">
    <head>
        <META http-equiv=content-type content="text/html; charset=UTF-8">
        <META http-equiv="Content-Script-Type" content="text/javascript">
        <title>HTML escape</title>

 <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
 <script type="text/javascript" src="http://momentjs.com/downloads/moment.min.js"></script>

    </head>

<!-- ウィンドウ横幅が狭かったら縦に並べて表示 -->
<body onresize="reLayoutColumn()">

<style type="text/css">
* {
margin:0;
padding:0;
}

body {
font-family:'Hiragino Kaku Gothic Pro',Meiryo,'ヒラギノ角ゴ Pro W3','メイリオ','ＭＳ Ｐゴシック',sans-serif;
font-size:medium;
}

#container { width:1060px;
background-color:#FFdFcF;
}

#wrap {
background-color:#aaaaaa;
}


#wrap>div div, textarea {
	border-radius:5px;
}


#wrap>div {
width:500px;
margin:0;
padding:15px 10px 10px 20px;

}

.box1 {
float:left;

background: #3b679e; /* Old browsers */
background: -moz-linear-gradient(top, #3b679e 0%, #2b88d9 50%, #207cca 51%, #7db9e8 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#3b679e), color-stop(50%,#2b88d9), color-stop(51%,#207cca), color-stop(100%,#7db9e8)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, #3b679e 0%,#2b88d9 50%,#207cca 51%,#7db9e8 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, #3b679e 0%,#2b88d9 50%,#207cca 51%,#7db9e8 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, #3b679e 0%,#2b88d9 50%,#207cca 51%,#7db9e8 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3b679e', endColorstr='#7db9e8',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, #3b679e 0%,#2b88d9 50%,#207cca 51%,#7db9e8 100%); /* W3C */

}

.box2 {
float:right;
background: rgb(245,246,246); /* Old browsers */
background: -moz-linear-gradient(top, rgba(245,246,246,1) 0%, rgba(219,220,226,1) 21%, rgba(184,186,198,1) 49%, rgba(221,223,226,1) 80%, rgba(245,246,246,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(245,246,246,1)), color-stop(21%,rgba(219,220,226,1)), color-stop(49%,rgba(184,186,198,1)), color-stop(80%,rgba(221,223,226,1)), color-stop(100%,rgba(245,246,246,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(245,246,246,1) 0%,rgba(219,220,226,1) 21%,rgba(184,186,198,1) 49%,rgba(221,223,226,1) 80%,rgba(245,246,246,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(245,246,246,1) 0%,rgba(219,220,226,1) 21%,rgba(184,186,198,1) 49%,rgba(221,223,226,1) 80%,rgba(245,246,246,1) 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, rgba(245,246,246,1) 0%,rgba(219,220,226,1) 21%,rgba(184,186,198,1) 49%,rgba(221,223,226,1) 80%,rgba(245,246,246,1) 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f5f6f6', endColorstr='#f5f6f6',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, rgba(245,246,246,1) 0%,rgba(219,220,226,1) 21%,rgba(184,186,198,1) 49%,rgba(221,223,226,1) 80%,rgba(245,246,246,1) 100%); /* W3C */

}


.yohaku {
margin:5px;
padding: 5px 5px 5px 15px;
}

button {
font-size:10px;
padding:5px;
}

.bgs1 {
color:#005;
margin:5px 20px;
padding:10px;

background: #d2dfed; /* Old browsers */
background: -moz-linear-gradient(top, #d2dfed 0%, #c8d7eb 26%, #bed0ea 51%, #a6c0e3 51%, #afc7e8 62%, #bad0ef 75%, #99b5db 88%, #799bc8 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#d2dfed), color-stop(26%,#c8d7eb), color-stop(51%,#bed0ea), color-stop(51%,#a6c0e3), color-stop(62%,#afc7e8), color-stop(75%,#bad0ef), color-stop(88%,#99b5db), color-stop(100%,#799bc8)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, #d2dfed 0%,#c8d7eb 26%,#bed0ea 51%,#a6c0e3 51%,#afc7e8 62%,#bad0ef 75%,#99b5db 88%,#799bc8 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, #d2dfed 0%,#c8d7eb 26%,#bed0ea 51%,#a6c0e3 51%,#afc7e8 62%,#bad0ef 75%,#99b5db 88%,#799bc8 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, #d2dfed 0%,#c8d7eb 26%,#bed0ea 51%,#a6c0e3 51%,#afc7e8 62%,#bad0ef 75%,#99b5db 88%,#799bc8 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#d2dfed', endColorstr='#799bc8',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, #d2dfed 0%,#c8d7eb 26%,#bed0ea 51%,#a6c0e3 51%,#afc7e8 62%,#bad0ef 75%,#99b5db 88%,#799bc8 100%); /* W3C */
}

.bgs2 {
color:#005;
margin:5px 20px;
padding:10px;
background: rgb(255,255,255); /* Old browsers */
background: -moz-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(241,241,241,1) 50%, rgba(225,225,225,1) 51%, rgba(246,246,246,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(50%,rgba(241,241,241,1)), color-stop(51%,rgba(225,225,225,1)), color-stop(100%,rgba(246,246,246,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(241,241,241,1) 50%,rgba(225,225,225,1) 51%,rgba(246,246,246,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(241,241,241,1) 50%,rgba(225,225,225,1) 51%,rgba(246,246,246,1) 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(241,241,241,1) 50%,rgba(225,225,225,1) 51%,rgba(246,246,246,1) 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#f6f6f6',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, rgba(255,255,255,1) 0%,rgba(241,241,241,1) 50%,rgba(225,225,225,1) 51%,rgba(246,246,246,1) 100%); /* W3C */
}

.whitetitle {
color:#FFF;
}

.divin1 {
background: rgb(249,252,247); /* Old browsers */
background: -moz-linear-gradient(top, rgba(249,252,247,1) 0%, rgba(245,249,240,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(249,252,247,1)), color-stop(100%,rgba(245,249,240,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(249,252,247,1) 0%,rgba(245,249,240,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(249,252,247,1) 0%,rgba(245,249,240,1) 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, rgba(249,252,247,1) 0%,rgba(245,249,240,1) 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f9fcf7', endColorstr='#f5f9f0',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, rgba(249,252,247,1) 0%,rgba(245,249,240,1) 100%); /* W3C */
}


.divin2 {
background: rgb(252,234,187); /* Old browsers */
background: -moz-linear-gradient(top, rgba(252,234,187,1) 0%, rgba(252,205,77,1) 50%, rgba(248,181,0,1) 51%, rgba(251,223,147,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(252,234,187,1)), color-stop(50%,rgba(252,205,77,1)), color-stop(51%,rgba(248,181,0,1)), color-stop(100%,rgba(251,223,147,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(252,234,187,1) 0%,rgba(252,205,77,1) 50%,rgba(248,181,0,1) 51%,rgba(251,223,147,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(252,234,187,1) 0%,rgba(252,205,77,1) 50%,rgba(248,181,0,1) 51%,rgba(251,223,147,1) 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, rgba(252,234,187,1) 0%,rgba(252,205,77,1) 50%,rgba(248,181,0,1) 51%,rgba(251,223,147,1) 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fceabb', endColorstr='#fbdf93',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, rgba(252,234,187,1) 0%,rgba(252,205,77,1) 50%,rgba(248,181,0,1) 51%,rgba(251,223,147,1) 100%); /* W3C */
}

.divin3 {background: rgb(254,255,255); /* Old browsers */
background: -moz-linear-gradient(top, rgba(254,255,255,1) 0%, rgba(210,235,249,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(254,255,255,1)), color-stop(100%,rgba(210,235,249,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(254,255,255,1) 0%,rgba(210,235,249,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(254,255,255,1) 0%,rgba(210,235,249,1) 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, rgba(254,255,255,1) 0%,rgba(210,235,249,1) 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#feffff', endColorstr='#d2ebf9',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, rgba(254,255,255,1) 0%,rgba(210,235,249,1) 100%); /* W3C */


}



.h3button {
background: rgb(181,189,200); /* Old browsers */
background: -moz-linear-gradient(top, rgba(181,189,200,1) 0%, rgba(130,140,149,1) 36%, rgba(40,52,59,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(181,189,200,1)), color-stop(36%,rgba(130,140,149,1)), color-stop(100%,rgba(40,52,59,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(181,189,200,1) 0%,rgba(130,140,149,1) 36%,rgba(40,52,59,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(181,189,200,1) 0%,rgba(130,140,149,1) 36%,rgba(40,52,59,1) 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, rgba(181,189,200,1) 0%,rgba(130,140,149,1) 36%,rgba(40,52,59,1) 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#b5bdc8', endColorstr='#28343b',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, rgba(181,189,200,1) 0%,rgba(130,140,149,1) 36%,rgba(40,52,59,1) 100%); /* W3C */
}


.h4button {
background: rgb(226,226,226); /* Old browsers */
background: -moz-linear-gradient(top, rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(226,226,226,1)), color-stop(50%,rgba(219,219,219,1)), color-stop(51%,rgba(209,209,209,1)), color-stop(100%,rgba(254,254,254,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e2e2e2', endColorstr='#fefefe',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* W3C */
}



.bluebutton {
background: rgb(210,223,237); /* Old browsers */
background: -moz-linear-gradient(top, rgba(210,223,237,1) 0%, rgba(200,215,235,1) 26%, rgba(190,208,234,1) 51%, rgba(166,192,226,1) 51%, rgba(175,199,232,1) 62%, rgba(186,208,239,1) 75%, rgba(153,181,219,1) 88%, rgba(121,155,200,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(210,223,237,1)), color-stop(26%,rgba(200,215,235,1)), color-stop(51%,rgba(190,208,234,1)), color-stop(51%,rgba(166,192,226,1)), color-stop(62%,rgba(175,199,232,1)), color-stop(75%,rgba(186,208,239,1)), color-stop(88%,rgba(153,181,219,1)), color-stop(100%,rgba(121,155,200,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(210,223,237,1) 0%,rgba(200,215,235,1) 26%,rgba(190,208,234,1) 51%,rgba(166,192,226,1) 51%,rgba(175,199,232,1) 62%,rgba(186,208,239,1) 75%,rgba(153,181,219,1) 88%,rgba(121,155,200,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(210,223,237,1) 0%,rgba(200,215,235,1) 26%,rgba(190,208,234,1) 51%,rgba(166,192,226,1) 51%,rgba(175,199,232,1) 62%,rgba(186,208,239,1) 75%,rgba(153,181,219,1) 88%,rgba(121,155,200,1) 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, rgba(210,223,237,1) 0%,rgba(200,215,235,1) 26%,rgba(190,208,234,1) 51%,rgba(166,192,226,1) 51%,rgba(175,199,232,1) 62%,rgba(186,208,239,1) 75%,rgba(153,181,219,1) 88%,rgba(121,155,200,1) 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#d2dfed', endColorstr='#799bc8',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, rgba(210,223,237,1) 0%,rgba(200,215,235,1) 26%,rgba(190,208,234,1) 51%,rgba(166,192,226,1) 51%,rgba(175,199,232,1) 62%,rgba(186,208,239,1) 75%,rgba(153,181,219,1) 88%,rgba(121,155,200,1) 100%); /* W3C */
}

.pinkbutton {
background: rgb(252,236,252); /* Old browsers */
background: -moz-linear-gradient(top, rgba(252,236,252,1) 0%, rgba(251,166,225,1) 50%, rgba(253,137,215,1) 51%, rgba(255,124,216,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(252,236,252,1)), color-stop(50%,rgba(251,166,225,1)), color-stop(51%,rgba(253,137,215,1)), color-stop(100%,rgba(255,124,216,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(252,236,252,1) 0%,rgba(251,166,225,1) 50%,rgba(253,137,215,1) 51%,rgba(255,124,216,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(252,236,252,1) 0%,rgba(251,166,225,1) 50%,rgba(253,137,215,1) 51%,rgba(255,124,216,1) 100%); /* Opera11.10+ */
background: -ms-linear-gradient(top, rgba(252,236,252,1) 0%,rgba(251,166,225,1) 50%,rgba(253,137,215,1) 51%,rgba(255,124,216,1) 100%); /* IE10+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fcecfc', endColorstr='#ff7cd8',GradientType=0 ); /* IE6-9 */
background: linear-gradient(top, rgba(252,236,252,1) 0%,rgba(251,166,225,1) 50%,rgba(253,137,215,1) 51%,rgba(255,124,216,1) 100%); /* W3C */
}



.fontlarge {
font-size : 1em;
}
.fontsmall {
font-size : 0.7em;
}

.timerswitch {
	background-color:#9be;
	padding:2px 0 2px 10px ;
	width:140px;
	height:24px;
	font-size :70%;
  	float:right;
}

.switchon {
width:57px;
	height:20px;
background-image:url(http://livedoor.blogimg.jp/qoozy/imgs/0/8/0849afe7.png);
}

.switchoff {
width:57px;
	height:20px;
background-image:url(http://livedoor.blogimg.jp/qoozy/imgs/b/5/b5f1159c.png);
}

</style>

<div id="container">
    <div id="wrap">
        <div class="box1"> <!-- floatleft box -->
        <div class="timerswitch">
            <table><tr><td>自動リセット</td><td><div id="enableTimerButton" class="switchon" onclick="enableTimer()"></div></td></tr></table>
    	</div>
        <h3 class="whitetitle">エスケープ</h3>
        <textarea id="src" name="src" style="width:100%" rows="10"></textarea>

                  <div class="bgs1">
						<div>
                            <table>
	                        	<tr>
                        			<td width=240 rowspan="2"><h4>SyntaxHighlight</h4>
				                        <div class="divin1 yohaku" style="margin:5px;padding:8px;font-size:80%;">
				                            エスケープする <input type="checkbox" id="htmlescapecheck" checked="checked">  <br />
				                            開始行：<input type="number" id="syntaxfirstline" size="4" min="1"><br />
				                            ハイライト行
											<span style="font-size:9px;">(複数カンマ区切)</span>：<br />
				                            <input type="text" id="syntaxhighlightline"><br />
				                            タイトルを付加&nbsp;
				                            <input type="checkbox" id="withSyntaxAreaTitle">&nbsp;：
				                            <input type="text" id="syntaxAreaTitle" value="■ ソース">
				                        </div>
			                        </td>

									<td width=300>
	                            		<div class="divin2 yohaku">
		                                	HTML混在 <input type="checkbox" id="htmlmixcheck" checked="checked"><br />
		                                  	&nbsp;<button
				                                    	onclick="syntaxDisplay('js')">javascript</button>
		                                  	<button
		                                    	onclick="syntaxDisplay('php')">PHP</button>
	                            		</div>
	                            		<div class="divin3 yohaku">
			                              	<button
			                                	onclick="syntaxDisplay('xml')" >HTML/XML</button>
			                              	<button
			                                	onclick="syntaxDisplay('css')">CSS</button><br />
			                              	<button
		                                		onclick="syntaxDisplay('java')">Java</button>
			                              	<button
			                                	onclick="syntaxDisplay('perl')">Perl</button>
			                              	<button
			                                	onclick="syntaxDisplay('vb')" >VB</button>
			                              	<button class="pinkbutton"
			                                	onclick="syntaxDisplay('sql')" >SQL</button><br />
			                              	<button
			                                	onclick="syntaxDisplay('c')">C</button>
			                              	<button
			                                	onclick="syntaxDisplay('csharp')">C#</button>
			                              	<button
			                                	onclick="syntaxDisplay('objc')">Objective-C</button>
	                            		</div>
                        			</td>
		                        </tr>

			                </table>
                         </div>
                     </div>

                      <div class="bgs1" >
                            <table>
	                        	<tr>
                        			<td ><h4>エスケープのみ | </h4>
						              	<button
			                            	onclick="escapeDisplay('html')">HTMLタグ&lt;&gt;&quot;&amp; </button><br />
		                          	</td>
		                          	<td>
		                          		<h4>バックスラッシュで |<br />
												エスケープ</h4>
				                          <button
			                            	onclick="escapeDisplay('&quot;', '/')">　&quot; と /　 </button>
			                          	<button
			                            	onclick="escapeDisplay('&quot;')"> 　&quot;　  </button>
			                          	<button
			                            	onclick="escapeDisplay('/')">　 /　 </button>
			                          	<button
			                            	onclick="escapeDisplay('.')">　 .　 </button>
	                        		</td>
                        			<td ><h4>その他</h4>
			                          	<button
			                            	onclick="mysql2tab();">mysqlのselect結果をタブ区切りに</button>
                                        <button
                                            onclick="apache_to_tsv()">apache logをタブ区切りに</button><br />
                                        <button
                                            onclick="mail_to_markdown()">メールをマークダウンに</button><br />
						              	<button
			                            	onclick="c2a0remover()">C2A0を取り除く(動きません。誰か助けて。）</button><br />
		                          	</td>
	                    		</tr>
	                		</table>
			            </div>

            <h3 class="whitetitle">変換結果</h3>

            <textarea id="dst" name="dst" style="width:100%" rows="10"></textarea>

            <!-- エスケープされた文字列を元に戻す -->
            <div align="right">
                <button
                    onclick="deconvert('html')">HTMLエスケープされた文字列を元に戻す</button>
                <button
                    onclick="deconvert('backslash')">バックスラッシュ・エスケープされた文字列を元に戻す</button>
            </div>


             <!-- 動作チェック用に使うサンプルHTMLタグ　↓ -->
            <button style="background-color:#aaffaa" onclick="insertSampleCode()">サンプルHTMLタグを挿入(動作チェック用)</button>
             <!-- 動作チェック用に使うサンプルHTMLタグ ↑-->

             <!-- 動作チェック用に使うサンプル　↓ -->
            <button style="background-color:#aaffaa" onclick="insertSampleApacheLog()">サンプルapache logを挿入(動作チェック用)</button>
             <!-- 動作チェック用に使うサンプル ↑-->
        </div> <!-- floatleft box -->








        <!-- BOX2 -->
        <div class="box2"> <!-- floatright box -->

        <!-- BOX2 テキストエリア「元」 -->
        <h3 class="bluetitle">HTMLタグ マークアップ</h3>
        <textarea id="src2" name="src2"  style="width:100%" rows="10"></textarea>

        <!-- BOX2 ボタン start -->

        <div class="bgs2">     <!-- ボタン くくり start -->
            <table border="0">
                <tr><td>
                    <button style="background-color:#aaffaa"
                    onclick="makeTag('div', 'inyo')">inyo</button>
                    <button  style="background-color:#FFFFaa"
                    onclick="makeTag('div', 'bgyellow')">bgyellow</button>

                    <button style="background-color:#aaaaff;" onclick="makeTag('div', 'bgaqua')">bgaqua</button>

                    <button  style="background-color:#FFaaaa"
                    onclick="makeTag('div', 'bgred')">bgred</button>
                    <button
                    onclick="makeTag('blockquote', 'blockquote')" >blockquote</button>
                    <button
                    onclick="makeTag('blockquote', 'blockquoteWithTitle')">結果+blockquote</button>

                    <button class="divin1" style="color:red"
                     onclick="makeTag('span', 'fontred')" >Font Red</button>
                    <button class="divin1" style="color:Green"
                     onclick="makeTag('span', 'fontgreen')" >Font Green</button>
                    <button class="divin1" style="color:Blue"
                     onclick="makeTag('span', 'fontblue')"  >Font Blue</button>
                    <button class="divin1"  style="color:#ff0099"
                     onclick="makeTag('span', 'fontpink')">Font Pink</button>
                    <button class="divin1" style="color:Purple"
                     onclick="makeTag('span', 'fontpurple')">Font Purple</button>
                    <button class="divin1" style="color:gray"
                     onclick="makeTag('span', 'fontgray')" >Font Gray</button>
                    <button class="divin1" style="font-weight:bold"
                     onclick="makeTag('span', 'fontsize1')" >FontSize1</button>
                    <button class="divin1" style="font-weight:bold"
                     onclick="makeTag('span', 'fontsize2')" >FontSize2</button>

                    <button
                     onclick="makeTag('span', 'b')" ><b>Bold</b></button><br />


                    <button class="bluebutton" style="color:#33f"
                    onclick="makeTag('span', 'bluetitle')">span bluetitle</button>
                    <button class="pinkbutton" style="color:#000"
                    onclick="makeTag('span', 'pinktitle')">span pinktitle</button>
                    <button class="divin2" style="color:#000"
                    onclick="makeTag('span', 'orangetitle')">span orangetitle</button>


                    <button style="background-color:#FFFFaa"
                     onclick="makeTag('span', 'highlight')">Highlight</button>
                    <button style="background-color:#88ffaa"
                     onclick="makeTag('span', 'highlight2')">Highlight2</button><br />


                    <button class="h3button" style="color:#fff"
                    onclick="makeTag('h3', 'bluetitle')">H3 Blue</button>
                    <button class="h3button" style="color:#fff"
                    onclick="makeTag('h3', 'pinktitle')">H3 Pink</button>
                    <button class="h3button" style="color:#fff"
                    onclick="makeTag('h3', 'orangetitle')">H3 Orange</button>
                    <button class="h4button"
                    onclick="makeTag('h4', 'bluetitle')">H4 Blue</button>
                    <button class="h4button"
                    onclick="makeTag('h4', 'pinktitle')">H4 Pink</button>
                    <button class="h4button"
                    onclick="makeTag('h4', 'orangetitle')">H4 Orange</button><br />

                    <button
                    onclick="onebyteStringColor1('h')" >半角に色</button>
                    <button
                    onclick="onebyteStringColor2('h','k')" >半角に色（記号別）</button>
                    <button style="color:#6666cc"
                    onclick="setMidashi('h3', '■')">行頭■をH3に◇をh4に</button>
                    <button style="background-color:#ff6666"
                    onclick="createALink()">&lt;A>リンク作成</button>

                </td></tr>
            </table>

        </div>    <!-- ボタン くくり end -->
         <!-- BOX 2 のボタン終わり -->


        <!-- BOX2下側 ボタン -->
        <div class="bgs2">    <!-- ボタン くくり start -->
            テキスト置換
                  <button
                   onclick="br2n()">&lt;BR />を\nに</button>
                  <button
                   onclick="n2br()">\nを&lt;BR />に</button>
                  <button
                   onclick="br2nn()">改行を２倍に</button>
                  <button
                   onclick="brbr2n()">改行を半分に</button>
                  <button
                   onclick="imagenumbering()">画像にナンバリング</button>
                  <button
                   onclick="imagenumbering('reverse')">画像を逆順ナンバリング</button>
                  <button id="remove_htmltags"
                   onclick="remove_htmltags()">HTMLタグを除去</button>

                  <button id="setformlist"
                   onclick="setformlist()">setformlist</button>
                  <button id="replaceorignaltag"
                   onclick="replaceorignaltag()">replaceorignaltag</button>
                    <button
                    onclick="makeTagFree('[b][color=CC0000]', '[/color][/b]')">[b][color=CC0000]</button>

        </div> <!-- ボタン くくり end -->
        <!-- BOX2下側 ボタン end-->

        <!-- BOX2 テキストエリア「後」 -->
        <h3 class="bluetitle">変換結果 BOX2</h3>
        <textarea id="dst2" name="dst2" style="width:100%" rows="10"></textarea>

        </div>  <!-- floatright box -->

		<div class="box1"><!-- box3 -->
			excel　セル 列 数字　変換 Z列→26列→Z列に変換
			<form method="post" action="javascript:coltonum()" id="excelform">
				<input type="text" name="num" value="702" id="excelbefore"></input>
				<input type="text" name="res" value="変換後" id="excelafter"></input>
				<input type="submit" ></input>
			</form>
			<script language="javascript">
				function coltonum(frm) {
					//10以下の数字をアルファベットにするための配列 11以上は２６進数の返り値そのままでok
					alp = new Array("a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z");

					var num = document.getElementById("excelbefore").value;
					var num_obj = new Number(num);

					if (isNumeric(num)) {
						var conv = ''; //変換後のアルファベット
						var k_26sin = num_obj.toString(26);  //26進数に変換
						console.log("k_26sin:"+k_26sin); //26進数

						//桁数ごとに取り出してアルファベットに変換
						var i = 0; //処理中の桁数
						while (i < k_26sin.length) {
							console.log("i:"+i);
							var toridashi26sin = k_26sin.substr(i,1); //先頭から一文字ずつ取り出す
							console.log("toridashi26sin:"+toridashi26sin);  //処理するひとつの26進数(0-9+[A-P])

/*							var toridashi10sin = parseInt(toridashi26sin,26);  //10進数に変換

							if (toridashi10sin < 26) { //一桁のときだけ0-25 それ以外は1-26
								toridashi10sin = toridashi10sin;  //10進数に変換
							} else {
								toridashi10sin = toridashi10sin;  //10進数に変換
							}

							 console.log("toridashi10sin:"+toridashi10sin);

							conv += alp[toridashi10sin]; //アルファベットに変換

							console.log(conv);
	*/						i++;
						}
					document.getElementById("excelafter").value = conv.toUpperCase();
					} else {

						var conv = 0; //変換後の数字

						//桁数ごとに取り出して数字に変換
						var i = 0; //処理中の桁数
						while (i < num.length) {
							var toridashi = num.substr(i,1); //先頭から一文字ずつ取り出す
							console.log(toridashi);
							var c = toridashi.toLowerCase();

							//アルファベットを数字にする A=1, Z=26にする
							var suji = alp.indexOf(c) + 1;
							console.log(suji);

							var keta = num.length - i - 1; //桁数-1
							//console.log("Math.pow(26,"+keta+")");

							//桁ごとに26を掛けてトータル数字にする
							var kisu = Math.pow(26,keta);
							console.log("kisu:"+kisu);
							var tasu = kisu * suji ;
							console.log("tasu:"+tasu);
							console.log("conv:"+conv);
							conv = conv + tasu;
							console.log("conv+tasu:"+conv);
							i++;
						}
					//	conv = parseInt("p",26);
					document.getElementById("excelafter").value = conv;
					}
				}
				// 数値のチェック
				function isNumeric(num){
				    if (num.match(/[^0-9]/g)) {
				        // alert("数値以外が含まれています。");
				        return false;
				    }
				    return true;
				}
			</script>

		</div><!-- box1と見せかけたbox3 -->
    </div> <!-- .wrap -->
</div> <!-- container -->





         <!-- BOX1 スクリプト開始 -->
         <script language="javascript">

            /* SyntaxHighlighter用にコンバートするsyntaxDisplay関数の定義 */
            /* 引数１は言語名：<pre class="brush : 言語"> に使われる*/
            function syntaxDisplay(lang) {
                /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
                var str = getText('#src');

                /* 出力用の変数res。*/
                var res = '';

                // タイトル表示指定があればタイトルを追加
                var bTitle = document.getElementById("withSyntaxAreaTitle").checked; //default=false
                if (bTitle) {
	                var syntaxAreaTitle = getText('#syntaxAreaTitle');
		            res += '<h3 class="bluetitle">' + syntaxAreaTitle + '</h3>\n';
                }

                /*preタグを作り 中に引数でもらった言語名を入れる              */
                /* エスケープのみ(引数なし)の場合は初期化のみ */
                res += '<pre class="brush : ' + lang + ' ;';

                // php or js のみコード追加
                if (lang == "js" || lang == "php") {
                    /* php or js時のみ、htmlコードも色付けさせるため
                       syntaxhighlighterのHTML混在オプションを加える(html-script:オプション)
                        HTML混在チェックbHtmlMixed変数をそのまま代入 true=混在する false=混在しない */
                    var bHtmlMixed = document.getElementById("htmlmixcheck").checked; //default=true
                    res += ' html-script:' + bHtmlMixed + ';';
                }

                // 行数指定があればクラスにfirstline[]を追加
                var rownumber = getText('#syntaxfirstline');
                if (isRegNum(rownumber)) {
                   res += ' first-line:[' + rownumber + '];';
                }

                // ハイライト行指定があればクラスにhighlight:[]を追加
                var highLightRowString = getText('#syntaxhighlightline');
				var highlightFlag = false;
                if (highLightRowString) {
	                var highLightArray = highLightRowString.split(',');
					for (i in highLightArray) {
						var rownum = highLightArray[i];
						if (isRegNum(rownum)) {
							if (i == 0) {
			                   res += ' highlight:[' + rownum;
			                   highlightFlag = true;
							} else {
			                   res += ' ,' + rownum;
							}
						}
                   }
					if (highlightFlag == true) res += '];';
                }

                //  pre開始タグを閉じる
                    res += '">';

                /* エスケープするかどうかのチェックbHtmlEscape変数をそのまま代入
                    true=エスケープする false=エスケープしない */
                var bHtmlEscape = document.getElementById("htmlescapecheck").checked; //default=true
                if (bHtmlEscape) {
                    // エスケープする
                    res += htmlTagEscape(str);
                } else {
                    // エスケープしないでそのまま代入
                    res += str;
                }

                /* resに</pre>タグを追加して、res完成。*/
                /* エスケープのみ(引数なし)の場合は処理なし */
                    res += '</pre>\n'

                // textareaへ結果を表示する          */
                updateResult(res, '#dst');

                // 次の入力に備え、数秒後にテキストエリアをクリア
                resetTextArea();
            };

            // HTMLタグをエスケープする関数
            // 引数は 元の文字列
            function htmlTagEscape(str) {

                // 処理後に完成する文字列（返り値）
                var escapedStr = '';

                // エスケープ開始
                for (var i = 0; i < str.length; ++i) {
                    /* 元の文字列を1文字ずつに分解してtmpに代入               */
                    var tmp = str.charAt(i);
                    /* switch文で置換           */
                    switch(tmp) {
                        /* & < > " を置換してresに追加する       */
                        case '&': escapedStr += '&amp;';       break;
                        case '<': escapedStr += '&lt;';   break;
                        case '>': escapedStr += '&gt;';   break;
                        case '"': escapedStr += '&quot;'; break;
                        /* その他はそのままresへ追加           */
                        default : escapedStr += tmp;            break;
                    }
                }
             return escapedStr;
                }



            /* 特定文字のエスケープ処理をして表示するescapeDisplay関数の定義
                 引数１は記号指定：<>”&/ どの記号をエスケープするのか指定。可変個引数という超絶技を使用。
                http://www.atmarkit.co.jp/fdotnet/ajaxjs/ajaxjs02/ajaxjs02_04.html        　*/
            function escapeDisplay(symbol) {
                /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
                var str = getText('#src');

                /* 出力用の変数res。  */
                 var res = '';

                /* エスケープ変換   */
                // htmlの場合
                if (symbol == 'html') {
                    res += htmlTagEscape(str)
                  } else { // バックスラッシュの場合
                   /* 引数を配列にしてそのまま渡す
                    arguments関数には渡された引数すべて(symbolが複数)が格納されている        */
                       res += backSlashEscape(str, arguments);
                   }

                // textareaへ結果を表示する          */
                updateResult(res, '#dst');

                // 次の入力に備え、数秒後にテキストエリアをクリア
                resetTextArea();
            };


            // 文字列をバックスラッシュ・エスケープする関数
            // 引数は 元の文字列、変更する記号が複数含まれた配列【要注意】
            function backSlashEscape(str, symbolArray) {

                // 処理後に完成する文字列（返り値）
                var escapedStr = '';

                // エスケープ開始
                // １文字ループ開始。ネストされたループを抜けるためループに名前を付ける
                loop1:
                for (var i = 0; i < str.length; ++i) {    // １文字ごとにループしていく

                    /* 元の文字列を1文字ずつに分解してtmpに代入               */
                    var tmp = str.charAt(i);

                    /* symbolArray配列には変換する記号すべてが格納されている
                        その中にある記号を置換していく */

                    /* 引数の記号判定ループ開始。  */
                    loop2:
                    for (var j=0; j < symbolArray.length; ++j) {

                        if ((symbolArray[j] == "\"") && (tmp == "\"")) { //記号指定に " があったら置換
                            escapedStr += '\\"';
                              continue loop1; // 上位階層の１文字ループにスキップ
                        } else if ((symbolArray[j] == "/") && (tmp == "/")) {//記号指定に / があったら置換
                            escapedStr += '\\/';
                              continue loop1;
                        } else if ((symbolArray[j] == ".") && (tmp == ".")) {//記号指定に . があったら置換
                            escapedStr += '\\.';
                              continue loop1;
                        } else {
                            //まだ引数の記号判別が残っているなら追加せずに次の判別へ
                            if (j != symbolArray.length - 1) {
                                continue loop2;
                            } else {
                                 //このループ(引数の記号判別)最後なら
                                 // tmpをそのままescapedStrへ追加
                                escapedStr += tmp;
                                continue loop1;
                              }
                        }
                    }
                }
                return escapedStr;
                }

            /* エスケープされた文字列を元に戻すdeconvert関数 */
            function deconvert(type) {
                     /* 結果テキストエリアから文字列取得＆文頭・文末の改行を削除        */
                    var str = getText('#dst');

                    /* convert関数でついたpreタグを削除 */
                    if (str.match(/^<pre class="brush/)) {
	                    str = str.replace(/^<pre.+?>/, '');
	                    str = str.replace(/<\/pre>/, '');
					}

                    /* デ・エスケープ開始  */
                    if (type=='html') { // HTMLタグを置換
                        str = str.replace(/&lt;/g,'<');
                        str = str.replace(/&gt;/g,'>');
                        str = str.replace(/&quot;/g,'"');
                        str = str.replace(/&#39;/g,'"');
                        str = str.replace(/&amp;/g,'&');
                    } else if (type =='backslash') { // バックスラッシュを置換
                        str = str.replace(/\\\"/g,'"');    // "ダブルクオーテーション
                        str = str.replace(/\\\//g,'/');        // スラッシュ
                        str = str.replace(/\\\./g,'/');        // ピリオド
                    }
                    /* 変換終了         */
                    /* 元の方のtextareaへ結果を表示する          */
                    updateResult(str, "#src");

                    // 次の入力に備え、15秒後にテキストエリアをクリア
                    resetTextArea('15');

            };

            // 動作チェック用のサンプルHTMLタグを変換元テキストエリアへ挿入
            function insertSampleCode() {
                var text ="<div class=\"box\">タグ&タグ</div>";
                $('#src').val(text);
                $('#src2').val(text);

                // クリアタイマーをリセット
                window.clearTimeout(timer);
            }


            // 動作チェック用のサンプルpacheLogを変換元テキストエリアへ挿入
            function insertSampleApacheLog() {
                var text ="\n153.179.28.193 - - [12/Oct/2015:09:30:10 +0900] \"GET /samp.php?callback=11 HTTP/1.1\" 200 34349 \"https://example.com/test?sh=1#/\" \"Mozilla/5.0 (Windows NT 6.3; WOW64; Trident/7.0; Touch; MAFSJS; rv:11.0) like Gecko\"\n172.22.123.153 - - [12/Oct/2015:09:30:16 +0900] \"GET /serv/authCheck/?a=7 HTTP/1.1\" 200 37 \"-\" \"Mozilla/5.0 (Windows; U; Windows NT 5.1; ja; rv:1.9.2.16) Gecko/20110319 Firefox/3.6.16 ( .NET CLR 3.5.30729)\"\n153.179.28.193 - - [12/Oct/2015:09:30:16 +0900] \"GET /samp.php?callback=2 HTTP/1.1\" 200 34346 \"https://example.com/test?sh=1#/\" \"Mozilla/5.0 (Windows NT 6.3; WOW64; Trident/7.0; Touch; MAFSJS; rv:11.0) like Gecko\"\n172.22.123.153 - - [12/Oct/2015:09:30:30 +0900] \"GET /serv/authCheck/?a=7 HTTP/1.1\" 200 37 \"-\" \"Mozilla/5.0 (Windows; U; Windows NT 5.1; ja; rv:1.9.2.16) Gecko/20110319 Firefox/3.6.16 ( .NET CLR 3.5.30729)\"\n153.179.28.193 - - [12/Oct/2015:09:30:30 +0900] \"GET /samp.php?callback=13 HTTP/1.1\" 200 34349 \"https://example.com/test?sh=1#/\" \"Mozilla/5.0 (Windows NT 6.3; WOW64; Trident/7.0; Touch; MAFSJS; rv:11.0) like Gecko\"\n121.95.51.111 - - [12/Oct/2015:09:30:32 +0900] \"POST /serv/guest/ HTTP/1.1\" 200 207 \"https://mapmark.fmworld.net/serv/login/\" \"Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko\"\n121.95.51.111 - - [12/Oct/2015:09:30:32 +0900] \"POST /serv/start/guest/ HTTP/1.1\" 200 1133 \"https://mapmark.fmworld.net/serv/login/\" \"Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko\"\n121.95.51.111 - - [12/Oct/2015:09:30:32 +0900] \"POST / HTTP/1.1\" 302 - \"https://mapmark.fmworld.net/serv/start/guest/\" \"Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko\"";
                $('#src').val(text);
                $('#src2').val(text);

                // クリアタイマーをリセット
                window.clearTimeout(timer);
            }


        //]]>






            function mysql2tab() {
                /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
                var str = getText('#src');

                /* 出力用の変数res。*/
                var res = '';

				// タイトルの罫線を取り除く
				res = str.replace(/\s*?\+[\+|-]+\+\s*$/gm,"");

				// 罫線をタブにする（データの中に罫線あったらそれも置換されちゃう）
				res = res.replace(/\|/g,"\t");
				//タブの後の半角空白を削除
				res = res.replace(/\t +/gm,"\t");
				//タブ前の半角空白を削除
				res = res.replace(/ +\t/gm,"\t");
				//改行前の半角空白を削除
				res = res.replace(/[ +|\t+]([\n|\r])/g,"$1");

                // textareaへ結果を表示する          */
                updateResult(res, '#dst');

                // 次の入力に備え、数秒後にテキストエリアをクリア
                resetTextArea();
            };




            function c2a0remover() {
                /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
                var str = getText('#src');

                /* 出力用の変数res。*/
                var res = '';

				// c2a0スペースを取り除く
	              // res = str.replace(/\160/,"").replace(/\xA0/,"").replace(/\s+/," ");
				//	res = str.replace(/&amp;nbsp;/g,"");
		//			res = str.replace(/&nbsp;/g, ' ');

//  var re = new RegExp(String.fromCharCode(160), "g");
 // res = str.replace(re, " ");

//					res = str.replace(String.fromCharCode(160), " ");
					res = str.replace(new RegExp(NBSP, "g"), SP);



                // textareaへ結果を表示する          */
                updateResult(res, '#dst');

                // 次の入力に備え、数秒後にテキストエリアをクリア
                resetTextArea();
            };



            function apache_to_tsv() {

                /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
                var str = getText('#src');

                /* 出力用の変数res。*/
                var res = '';

                //apache log形式の時刻をわかりやすい形式にする
                //1行ずつ操作
                $.each( str.split('\n'), function(i,e){
                    // console.log(e);
                    apache_datetime = e.match(/\d{2}\/\w{3}\/20\d{2}:\d{2}:\d{2}:\d{2}/gi);
                    // console.log(apache_datetime);

                    yyyymmdd = moment(apache_datetime, 'DD/MMM/YYYY:HH:mm:ss Z').format("YYYY-MM-DD")
                    hhmmss = moment(apache_datetime, 'DD/MMM/YYYY:HH:mm:ss Z').format("HH:mm:ss")

                    out = e.replace(/\s\d{2}\/\w{3}\/20\d{2}:\d{2}:\d{2}:\d{2}/gi, "\t"+yyyymmdd+"\t"+hhmmss);

                    //行番号を付与
                    res += i + "\t" + out + "\n";
                });


                //まとめて時刻等をタブ区切りにする
                res = res.replace(/ - - \[/gm, "\t");
                res = res.replace(/\s\+0900]\s/gm, "\t");
                res = res.replace(/GET\s/gm, "GET\t");
                res = res.replace(/POST\s/gm, "POST\t");
                res = res.replace(/"/g, "");
                res = res.replace(/(\d{4}):/gm, "$1\t");

                //１行目にタイトル行を追加
                res = "no\tip\tdate\ttime\ttype\tlog\n" + res;


                // textareaへ結果を表示する          */
                updateResult(res, '#dst');

                // 次の入力に備え、数秒後にテキストエリアをクリア
                resetTextArea();



            }



            function mail_to_markdown() {

                /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
                var str = getText('#src');

                /* 出力用の変数res。*/
                var res = '';

                //apache log形式の時刻をわかりやすい形式にする
                //1行ずつ操作
                $.each( str.split('\n'), function(i,e){

                    e = e.replace(/[□◇◆■▲△▼○◎●]/gi, "# ");

                    e = e.replace(/^[　\s]+?・/gi, "- ");

                    res += e + "  \n";

                });

                // textareaへ結果を表示する          */
                updateResult(res, '#dst');

                // 次の入力に備え、数秒後にテキストエリアをクリア
                resetTextArea();




            }

        </script>      <!-- BOX1 スクリプト -->












     <!-- BOX 2 のスクリプト start -->
    <script type="text/javascript">

    // タグで囲む関数
    function makeTag(tag, cls) {

             /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
            var str = getText('#src2');

            // blockquoteの場合
            if (tag == "blockquote") {
                if (cls == "blockquote") {
                    var res = '<blockquote>';
                    res += str;
                    res += '</blockquote>';
                } else { // blockquoteWithTitleの場合
                var res = '<h3 class="bluetitle">結果</h3>\n<blockquote>';
                res += str;
                res += '</blockquote>';
                }

            // divの場合
            } else if (tag == "div") {
                /* 出力用の変数res。divタグを作り 中に引数でもらったクラス名を入れる              */
                var res = '<div class="' + cls + '">';
                /* さらに元データを入れる              */
                res += str;
                    /* </div>タグ閉じる            */
                res +=  '\n<\/div>\n';

            // その他の場合
            } else {
                var res = '<' + tag + ' class="' + cls + '">';
                res += str;
                res += '</' + tag + '>';
            }

            //* resを出力。textareaへ結果を表示する          */
            updateResult(res, "#dst2");

            // 次の入力に備え、数秒後にテキストエリアをクリア
            resetTextArea();

        }




    // 自由なタグで囲む関数。引数で開始タグと終了タグを指定
    function makeTagFree(starttag, closetag) {

             /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
            var str = getText('#src2');

                    var res = starttag;
                    res += str;
                    res += closetag;

            //* resを出力。textareaへ結果を表示する          */
            updateResult(res, "#dst2");

            // 次の入力に備え、数秒後にテキストエリアをクリア
            resetTextArea();

        }




    // 半角英数字記号に色をつける関数
    function onebyteStringColor1(class1) {
             /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
            var str = getText('#src2');

            /* 入力内容の文字数をlenに代入 （forループ用)                */
            var len = str.length;
            /* 最終出力用の変数result。   */
            var result = '';
            /* マークアップ中かどうかのフラグ   */
            var marking = false ;


            /* 変換作業スタート。                */
            for (var i = 0; i < len; ++i) {
                /* 元の文字列を1文字ずつに分解してtmpに、その前の文字をprevtmpに代入 */
                var tmp = str.charAt(i);                 // 現在文字
                var prevtmp = str.charAt(i-1);        // 前の文字

                /* 次の文字をnexttmpに代入。
                    次の文字がスペースの場合はスペース以外の文字を拾う */
                var nexttmp = str.charAt(i+1);        // 次の文字
                for (var cnt = 2; cnt < len; ++cnt) {
                   if (nexttmp.match( /\s/)) {
                        nexttmp = str.charAt(i+cnt);
                    }
                }

                /* 現在/前/次の文字を調べてresult変数に追加していく。*/

                /* tmpが全角の場合 */
                if(!tmp.match( /[0-9a-zA-Z_\s!-/:-@[-`{-~]+/ )) {
                    /* tmpが全角 かつ prevtmpが半角の場合 */
                    if(prevtmp.match( /[0-9a-zA-Z_!-/:-@[-`{-~]+/ )) {
                        // tmpの前にマークアップエンドを出力
                        result += '</span>' + tmp;
                             marking = false ;
                    } else {
                    /* tmpが全角 かつ prevtmpが全角orスペースの場合 */
                    // tmpをそのまま出力
                        result += tmp;
                    }

                /* tmpがスペースの場合 */
                } else if(tmp.match( /\s/ )) {
                    /* tmpがスペース かつ markingフラグが true の場合 */
                    if(marking == true) {
                        /* tmpがスペース かつ markingフラグが true かつ nexttmp が半角の場合 */
                        if (nexttmp.match( /[0-9a-zA-Z_!-/:-@[-`{-~]+/ )) {
                            // tmpをそのまま出力
                            result += tmp;

                        /* tmpがスペース かつ markingフラグが true かつ nexttmp が全角の場合 */
                        } else {
                        // tmpの前にマークアップエンドを出力
                        result += '</span>' + tmp;
                             marking = false ;
                        }

                    /* tmpがスペース かつ markingフラグが false の場合 */
                    } else {
                        // tmpをそのまま出力
                        result += tmp;
                    }

                /* tmpが半角の場合 */
                } else {
                    /* tmpが半角 かつ マークアップ中ではない場合 */
                    if (marking == false) {
                        // tmpの前にマークアップスタートを出力
                             result +=  '<span class="' + class1 + '">' + tmp;
                             marking = true ;
                    /* tmpが半角 かつ prevtmp が半角orスペースの場合 */
                    } else {
                        // tmpをそのまま出力
                        result += tmp;
                    }
                }

                /* 文字列の末尾がスペースの場合はマークエンドが出力されないので無理矢理出力させる */
                /* tmpが最後の文字 かつ マーキング中の場合 */
                if((marking == true) && (i==len-1) ) {
                    result += '</span>';
                         marking = false ;
                }
            }

            // 最後にresultを出力
            updateResult(result, "#dst2");

            // 次の入力に備え、数秒後にテキストエリアをクリア
            resetTextArea();
    }





    // 半角英数字に色をつける関数（記号は別の色）
    function onebyteStringColor2(class1, class2) {
             /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
            var str2 = getText('#src2');

            /* 入力内容の文字数をlenに代入 （forループ用)                */
            var len2 = str2.length;
            /* 半角英数字マークアップひとつ分を入れておく変数eisu   */
            var eisu = '<span class="' + class1 + '">';
            /* 半角記号マークアップひとつ分を入れておく変数eisu   */
            var kigo = '<span class="' + class2 + '">';
            /* 最終出力用の変数res2。   */
            var res2 = '';

            /* 変換作業スタート。                */
            for (var i = 0; i < len2; ++i) {
                /* 元の文字列を1文字ずつに分解してtmpに、その次の文字をnexttmpに代入 */
                var tmp = str2.charAt(i);
                var nexttmp = str2.charAt(i+1);

                /* 現在文字と次の文字を調べて、eisu,kigo変数とres2変数に代入していく。 */

                /* tmpが半角英数字かどうか調べる   */
                if(tmp.match( /[0-9a-zA-Z_]+/ )) {
                    /* その次の文字も半角英数字かどうか調べる   */
                    if(nexttmp.match( /[0-9a-zA-Z_]+/ )) {
                        /* 半角英数字の場合、現在の文字tmpをeisuに入れる   */
                        eisu += tmp;
                    } else { /* その次の文字が全角文字の場合、現在の文字tmpと</span>をeisuに入れる  */
                        eisu += tmp + '</span>';
                        /* １セットのマークアップが終わったので、最終出力変数resにeisuを追加 */
                        res2 += eisu;
                        /* 英数字マークアップひとつ分を入れておく変数eisuを再度初期化 */
                        var eisu = '<span class="' + class1 + '">';
                    }
                } else if (tmp.match( /[!-/:-@[-`{-~]+/ )) { /* tmpが半角記号かどうか調べる */
                    /* その次の文字も半角記号かどうか調べる   */
                    if(nexttmp.match( /[!-/:-@[-`{-~]+/ )) {
                        /* 半角記号の場合、現在の文字tmpをkigoに入れる   */
                        kigo += tmp;
                    } else { /* その次の文字が全角文字の場合、現在の文字tmpと</span>をkigoに入れる */
                        kigo += tmp + '</span>';
                        /* １セットのマークアップが終わったので、最終出力変数resにkigoを追加   */
                        res2 += kigo;
                        /* 記号マークアップひとつ分を入れておく変数kigoを再度初期化   */
                        var kigo = '<span class="' + class2 + '">';
                    }
                } else { /* tmpが全角文字の場合、tmpをそのままresに出力 */
                    res2 += tmp;
                };
            };

            // 最後にresを出力
            updateResult(res2, "#dst2");

            // 次の入力に備え、数秒後にテキストエリアをクリア
            resetTextArea();
    }


    // 行頭■を<h3>見出しタグに
    function setMidashi() {
        /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
        var str1 = getText('#src2');

        // 変換関数へ投げる（返り値は変換後の文字列）
        var str2 = findAndRowTagging(str1, '■', 'h3', 'bluetitle');
        var str3 = findAndRowTagging(str2, '◇', 'h4', 'orangetitle');

        var res = str3;

        // 最後にresを出力
        updateResult(res, "#dst2");

        // 次の入力に備え、数秒後にテキストエリアをクリア
        resetTextArea();

    }

    // 行頭に指定のマークがある場合、その行をタグ化する関数(setMidashi()から呼び出されている)
    function findAndRowTagging(str, findmark, tagname, classname) {

            /* 行ごとに分解 */
            var row = str.split("\n");
            var res = '';

            // 正規表現内で変数(findmark)を使うため、RegExpオブジェクトを使う
            // 検索キーワードを設定(findmark変数を使うためこのワンクッションが必要）
            var seikiword = "^\\s*" + findmark; // スペースと目印を探す

            // 変数seikiwordを検索する正規表現オブジェクト「oSearchObj」を作成
            var oSearchObj = new RegExp(seikiword);

            // 検索変換開始
            for (i in row) {
                if (row[i].match(oSearchObj)) {
                    res += "<" + tagname;
                    res += " class='" + classname + "'>";
                    res += row[i] + "</" + tagname + ">\n";
                } else {
                    res +=  row[i] + "\n";
                }
            }

            // できあがった文字列をsetMidashi()へ返す
            return res;
     }


    // Aリンクを作る関数
    function createALink() {
             /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
            var str3 = getText('#src2');

            /* A リンク作成　タイトル入れるの難しいので保留

            // リンク先のページタイトル取得
            if (encURL(str3)) {
                var linkTitle = getTitle(str3);
                };

            if (linkTitle) {
                var res3 = '<a href="' + str3 + '" title="' + linkTitle + '">' + linkTitle + '</a>';
            } else { */
                var res3 = '<a href="' + str3 + '">' + str3 + '</a>';
            /* } */
            // 最後にresを出力
            updateResult(res3, "#dst2");

            // 次の入力に備え、数秒後にテキストエリアをクリア
            resetTextArea();
    }

    //]]>

    </script> <!-- BOX2 スクリプト -->




    <!-- BOX3 スクリプト -->
    <script type="text/javascript">


    /* br2n関数の定義 引数なし */
    function br2n() {

         /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
        var tex = getText('#src2');

        // 変換開始
        tex = tex.replace(/(<br \/>|<br>)/g, "\n\n");

        /* 変換終了 textareaへ結果を表示する 引数（結果文字列、出力するtextarea名)   */
        updateResult(tex, "#dst2");

        // 次の入力に備え、数秒後にテキストエリアをクリア
        resetTextArea();

    }

    /* n2br関数の定義 引数なし */
    function n2br() {

         /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
        var tex = getText('#src2');

        // 変換開始
        tex = tex.replace(/\n/g, "<br />");

        /* 変換終了 textareaへ結果を表示する 引数（結果文字列、出力するtextarea名)   */
        updateResult(tex, "#dst2");

        // 次の入力に備え、数秒後にテキストエリアをクリア
        resetTextArea();
    }

    /* br2nn関数の定義 引数なし */
    function br2nn() {
         /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
        var tex = getText('#src2');

        // 変換開始
        tex = tex.replace(/\n/g, "\n\n");

        /* 変換終了 textareaへ結果を表示する 引数（結果文字列、出力するtextarea名)   */
        updateResult(tex, "#dst2");
        // 次の入力に備え、数秒後にテキストエリアをクリア
        resetTextArea();
    }

    /* brbr2n関数の定義 改行を1/2にする 引数なし */
    function brbr2n() {
         /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
        var tex = getText('#src2');

        // 変換開始
        tex = tex.replace(/\n\n/g, "\n");

        /* 変換終了 textareaへ結果を表示する 引数（結果文字列、出力するtextarea名)   */
        updateResult(tex, "#dst2");
        // 次の入力に備え、数秒後にテキストエリアをクリア
        resetTextArea();
    }


    /* imagenumbering関数の定義 引数は逆順にするかどうか */
    function imagenumbering(rotation) {

         /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
        var tex = getText('#src2');

        // 取得したテキストを <br /> で分割し、セクションごとに分かれた配列に格納
        var textarray = tex.split("<br />");

        // 配列の最後に空の要素が入るので、それを削除
		if (textarray.length > 1)  textarray.pop();

        /* 出来上がりのstring変数 */
        var convertedtext = '';

        // 引数がreverseだったら配列を逆順にする
		if (rotation == 'reverse')  textarray.reverse();

        /* 配列の中を変換開始
            ナンバリングをするとともに改行を加えるにする */
        for (var i in textarray) {
            convertedtext += '■■■ ' + i + ' ■■■ ' + i + ' ■■■ ' + i + ' ■■■ ' + '\n';
            convertedtext += textarray[i] + '\n--------------------------------------------\n\n';
		}

        /* 変換終了 textareaへ結果を表示する 引数（結果文字列、出力するtextarea名)   */
        updateResult(convertedtext, "#dst2");
        // 次の入力に備え、数秒後にテキストエリアをクリア
        resetTextArea();

    }


    function remove_htmltags() {

       /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
      var str = getText('#src2');
      delete01 = new RegExp(/\n/g);
      delete02 = str.replace(delete01, "");
      delete03 = new RegExp(/>(.*?)</g);
      delete04 = delete02.replace(delete03, ">\n$1\n<");
      rgexp = new RegExp(/<("[^"]*"|'[^']*'|[^'">])*>/g);
      convertedtext = delete04.replace(rgexp, "");

        /* 変換終了 textareaへ結果を表示する 引数（結果文字列、出力するtextarea名)   */
        updateResult(convertedtext, "#dst2");
        // 次の入力に備え、数秒後にテキストエリアをクリア
        resetTextArea();
      }


    /* 指定のフォーマットに変換
    連絡先 \t 090-12345678 を < 連絡先 > 090-12345678 にする */
    function setformlist() {

        /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
        var str = getText('#src2');

        /* 行ごとに分解 */
        var row = str.split("\n");
        var oneword = '';
        var res = '';

        // 検索キーワードを設定
        var seikiword = "\t"; // tabを探す

        // 変数seikiwordを検索する正規表現オブジェクト「oSearchObj」を作成
        var oSearchObj = new RegExp(seikiword);

        // 検索変換開始
        for (i in row) {
            if (row[i].match(oSearchObj)) { // tabがある行だったら
                oneword = row[i].split("\t"); // tabで分割する
                res += "< " + oneword[0] + " > "; //ヒットした前2つをフォーマットに代入する
                res += oneword[1] + "\n";
            } else {
                res += row[i] + "\n";
            }
        }

        /* textareaへ結果を表示する */
        updateResult(res, "#dst2");
        // 次の入力に備え、数秒後にテキストエリアをクリア
        resetTextArea();
     }


    /* <em><strong>を指定の方式に置換 */
    function replaceorignaltag() {

        /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
        var str = getText('#src2');


        /* globalサーチ：文字列中にある'<em>'を [b][color=CC0000][/color][/b] */
        var str2=str.replace(/\&nbsp;/gi,'');
        var str3=str2.replace(/<p>/gi,'');
        var str4=str3.replace(/<\/p>/gi,'');
        var str5=str4.replace(/<em>/gi,'[b][color=CC0000]');
        var str6=str5.replace(/<\/em>/gi,'[/color][/b]');
        var str7=str6.replace(/<strong>/gi,'[b][color=CC0000]');
        var str8=str7.replace(/<\/strong>/gi,'[/color][/b]');
        var str9=str8.replace(/<img .*>/gi,'');
        var str10=str9.replace(/<br>/gi,'');

        /* textareaへ結果を表示する */
        updateResult(str10, "#dst2");
        // 次の入力に備え、数秒後にテキストエリアをクリア
        resetTextArea();
     }



    //]]>
    </script> <!-- BOX3 スクリプト -->







<!-- ロード時に実行される関数、グローバル共用関数 -->
<script language="javascript">



    // ページ表示時にウィンドウ幅によってレイアウトを自動修正（body onloadが利かなかった、関数実行をちょい遅らせる。)
    window.setTimeout( function() {  reLayoutColumn(); }, 50); // 秒数

    <!-- ウィンドウ横幅が狭かったら縦に並べて表示 -->
    function reLayoutColumn() {
        if (getBrowserWidth()<1060) {
            document.getElementById('container').style.width='530px';
        } else {
            document.getElementById('container').style.width='1060px';
        }
    }

    // getBrowserWidth() by Cameron Adams
    // http://www.themaninblue.com/experiment/ResolutionLayout/
    function getBrowserWidth ( ) {
        if ( window.innerWidth ) { return window.innerWidth; }
        else if ( document.documentElement && document.documentElement.clientWidth != 0 ) { return document.documentElement.clientWidth; }
        else if ( document.body ) { return document.body.clientWidth; }
        return 0;
    }



    /*   [CTRL]+[ENTER]でjsボタン押下するようにする */
    /* すべてのキーアップイベントを監視する */
    /* キーアップがあったらinput関数呼び出し */
    window.document.onkeydown = input;

    /*   [CTRL]+[ENTER]でjsボタン押下 */
    function input(theEvent){
        if(theEvent.ctrlKey) {
            if(theEvent.keyCode == 13) {
                /*   covert('js') だけではイベントハンドラとコールバック関数の問題から
                    convert関数の中のreturn funcion()クロージャまで呼び出せないので
                    一度変数fromKeyConvertに格納し、変数から呼び出すことでクロージャ内をreturnさせる。
                    参考　http://karafuto50.blog117.fc2.com/?mode=m&no=136　*/
                var fromKeyConvert = syntaxDisplay('js');
                fromKeyConvert();
                return false;
            }
        }
    }


    /* クリア連打対策　グローバル変数timerをここで宣言しておく */
    var timer = '';

    /* 自動クリアon,off  デフォルト = true = on*/
    var bEnableTimer = true;

    // タイマーon/off切り替え
    function enableTimer() {
    	if(bEnableTimer == true) {
    		bEnableTimer = false;
			document.getElementById('enableTimerButton').className = "switchoff";
		    $.cookie('Timer','off',{ expires: 99 });//書き込み{保存days}

		} else {
    		bEnableTimer = true;
			document.getElementById('enableTimerButton').className = "switchon";
		    $.cookie('Timer','on',{ expires: 99 });//書き込み{保存days}

		}
	}


    /* テキストエリアから文字列取得＆文頭・文末の改行を削除        */
    function getText(id) {
        var str = $(id).val();
        str = removeBreaks(str);
        return str;
    }

    /* 文頭・文末の改行を削除        */
    function removeBreaks(str) {
        // 文頭
        str = str.replace(/^(\r\n)+|^(\n\r)+|^(\r)+|^(\n)+/gi, "");
        // 文末
        str = str.replace(/(\r\n)+$|(\n\r)+$|(\r)+$|(\n)+$/gi, "");
        return str;
    }



    // テキストエリアを自動リセットするグローバル関数　引数が秒数
    function resetTextArea(second) {
		if (bEnableTimer) {
	        window.clearTimeout(timer);
	        // 引数なければ3秒にする
	        if (second == undefined) second = 3;

	        // alert(second + '秒後にクリア');
	        //clearTimeoutを使うためグローバル変数timerにsetTimeoutを代入する
	        timer = window.setTimeout( function() {
	            // クリア開始
	            $('#dst2').val('');
	            $('#src2').val('');
	            $('#src').val('');
	            $('#dst').val('');
	            $('#syntaxfirstline').val('');
	            $('#syntaxhighlightline').val('');
	        }, second * 1000); // 秒数
		}
    }


    // 次の入力に備え、指定秒たったらテキストエリアをリセットする
    /* 結果エリアに文字列を表示＆コピーしやすいように結果エリアをフォーカスする        */
    function updateResult(text, area) {
        $(area).val(text);
        /* コピーしやすいようにする         */
        $(area).focus();          //結果テキストエリアをフォーカスする
        $(area).select();         //結果テキストエリアを全選択する
    }



     /** http://phpjavascriptroom.com/?t=js&p=formcheck#a_isRegNum
     * [関数名] isRegNum
     * [機　能] 数値チェック（正規表現）
     * [説　明] 数値（0-9）以外の文字が含まれているか正規表現を使用して調べる
     * くじ改造→引数をオブジェクトから変数に、空白の場合trueが帰っていたのでfalseに。
    */
    function isRegNum(int){
        var str=int; /* 入力値 */
        if ((str == '') || (str.match(/[^0-9]/g))){ /* 空白の場合falseにする */
      //      alert (str.match(/[^0-9]/g)+"\n\n数値以外が含まれています");
            return false;
        }
        //alert ("全て数値です");
        return true;
    }

</script> <!-- 共用関数ここまで -->







 <!-- 使っていない -->
<script language="javascript">

    /* 使っていない関数↓ */
    // URLが正しいかチェックする関数
    function encURL( url ){
        if(url == null) return false;
        var ret = null;
        var x = url.slice(0,4);
        if(x == 'http'){
            ret = x;
        }else if(x == 'ttp:' || x == 'ttps'){
            ret = 'h' + x;
        }else if(x == 'www.'){
            ret = 'http://' + x;
        }else{
            alert('[' + url + ']はURLではありません。');
        }
        return ret;
    }


    /* 使っていない関数↓ */
    // リンク先のタイトルを取得してreturnする関数
    // 同一ホストじゃないと動かない・・・。
    function getTitle( url ) {
        if(!url){
            alert(リンク先のアドレスが空です);
            return '';
        }

        xmlhttp = new XMLHttpRequest();

        try{
            xmlhttp.open("GET",url,false);
            xmlhttp.send(null);
        }catch(e){
            if(typeof e == 'object'){
                alert(e.message);
            }else{
                alert(e);
            }
            return '';
        }
        while(true){
            if(xmlhttp.readyState == 4){
                document.value=xmlhttp.responseText;
                break;
            }
        }
        return encodeURIComponent(document['title']);
    }


</script><!-- 使っていないのここまで -->


<!-- google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24472358-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script><!-- google analytics -->


<!-- jquery.cookie.jsをコピペ（google ajax apiにない、自前で用意したくない。） ここから -->
<script type="text/javascript">

/**
 * " jquery.cookie.js"
  *
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie = function (key, value, options) {

    // key and at least value given, set cookie...
    if (arguments.length > 1 && String(value) !== "[object Object]") {
        options = jQuery.extend({}, options);

        if (value === null || value === undefined) {
            options.expires = -1;
        }

        if (typeof options.expires === 'number') {
            var days = options.expires, t = options.expires = new Date();
            t.setDate(t.getDate() + days);
        }

        value = String(value);

        return (document.cookie = [
            encodeURIComponent(key), '=',
            options.raw ? value : encodeURIComponent(value),
            options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
            options.path ? '; path=' + options.path : '',
            options.domain ? '; domain=' + options.domain : '',
            options.secure ? '; secure' : ''
        ].join(''));
    }

    // key and possibly options given, get cookie...
    options = value || {};
    var result, decode = options.raw ? function (s) { return s; } : decodeURIComponent;
    return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null;
};
</script><!-- jquery.cookie.js -->


</body>
</html>
